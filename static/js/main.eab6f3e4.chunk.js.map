{"version":3,"sources":["components/Header.js","components/Product.js","components/Main.js","components/Basket.js","data.js","App.js","index.js"],"names":["Header","props","className","Navbar","bg","variant","Container","Brand","href","Toggle","Collapse","Text","countCartItems","Badge","Product","product","onAdd","Col","lg","Card","Img","src","image","alt","name","Body","Title","info","style","price","onClick","Main","products","Row","map","id","Basket","cartItems","onRemove","onSubmitOrder","clearCart","itemsPrice","reduce","a","c","qty","shippingPrice","totalPrice","length","item","toFixed","data","type","cartFromLocalStorage","JSON","parse","localStorage","getItem","App","useState","setCartItems","useEffect","setItem","stringify","exist","find","x","filter","alert","console","log","confirm","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eab6f3e4.chunk.js","sourcesContent":["import {Container, Navbar, Badge} from \"react-bootstrap\";\r\n\r\nimport React from 'react';\r\n\r\n\r\nexport default function Header(props) {\r\n    return (\r\n        <header className=\"block row center\">\r\n\r\n            <Navbar bg=\"light\" variant=\"light\" className='py-4'>\r\n                <Container>\r\n                    <Navbar.Brand href=\"#home\">Маленький магаз</Navbar.Brand>\r\n\r\n                    <Navbar.Toggle/>\r\n                    <Navbar.Collapse className=\"justify-content-end\">\r\n                        <Navbar.Text>\r\n                            <a className='text-decoration-none' href=\"#/cart\">\r\n                                Корзина {' '}\r\n                                {props.countCartItems ? (\r\n                                    <Badge bg=\"danger\">{props.countCartItems}</Badge>\r\n                                ) : (\r\n                                    ''\r\n                                )}\r\n                            </a>{' '}\r\n\r\n                            {/*<a href=\"#/signin\">*/}\r\n                            {/*    Вход*/}\r\n                            {/*</a>*/}\r\n                        </Navbar.Text>\r\n                    </Navbar.Collapse>\r\n                </Container>\r\n            </Navbar>\r\n\r\n        </header>\r\n    );\r\n}\r\n","import {Col, Card} from 'react-bootstrap';\r\n\r\nimport React from 'react';\r\n\r\nfunction Product(props) {\r\n    const {product, onAdd} = props;\r\n    return (\r\n        <Col lg=\"4\" className=\"my-3\">\r\n            <Card>\r\n                <Card.Img variant=\"top\" src={product.image} alt={product.name}/>\r\n\r\n                <Card.Body>\r\n                    <Card.Title>{product.name}</Card.Title>\r\n\r\n                    <Card.Text className='small'>\r\n                        {product.info}\r\n                    </Card.Text>\r\n\r\n                    <div style={{'text-align': 'center', 'font-weight': '700', 'margin': '20px 0 10px 0'}}>\r\n                        {product.price} грн\r\n                    </div>\r\n\r\n                    <div>\r\n                        <button className='btn btn-primary' onClick={() => onAdd(product)}>В корзину</button>\r\n                    </div>\r\n\r\n\r\n                </Card.Body>\r\n\r\n            </Card>\r\n        </Col>\r\n    );\r\n}\r\n\r\nexport default Product;","import {Row, Container} from 'react-bootstrap';\r\n\r\nimport React from 'react';\r\nimport Product from './Product';\r\n\r\nexport default function Main(props) {\r\n    const {products, onAdd} = props;\r\n    return (\r\n        <Container className='mt-5'>\r\n\r\n            <h2 className='display-5 text-center'>Еда</h2>\r\n\r\n            <Row>\r\n                {products.map((product) => (\r\n                    <Product\r\n                        key={product.id}\r\n                        product={product}\r\n                        onAdd={onAdd}/>\r\n                ))}\r\n            </Row>\r\n\r\n        </Container>\r\n    );\r\n}\r\n","import {Col, Row} from 'react-bootstrap';\r\n\r\nimport React from 'react';\r\n\r\nexport default function Basket(props) {\r\n\r\n    const {cartItems, onAdd, onRemove, onSubmitOrder, clearCart} = props;\r\n\r\n    const itemsPrice = cartItems.reduce((a, c) => a + c.qty * c.price, 0);\r\n    // const taxPrice = itemsPrice * 0.14;\r\n    const shippingPrice = itemsPrice > 2000 ? 0 : 20;\r\n    const totalPrice = itemsPrice + shippingPrice;\r\n\r\n    return (\r\n        <>\r\n\r\n            <h2 className='display-5 text-center mb-5'>Корзина</h2>\r\n            <Col>\r\n\r\n                {cartItems.length === 0 && <div>Корзина пустая, скорее наполняйте её</div>}\r\n\r\n                {cartItems.map((item) => (\r\n                    <div key={item.id}>\r\n                        <hr/>\r\n                        <Row>\r\n                            <Col lg='6'>{item.name}</Col>\r\n\r\n                            <Col lg='3' className='small'>\r\n                                {item.qty} x {item.price.toFixed(2)} грн\r\n                            </Col>\r\n\r\n                            <Col lg='3'>\r\n                                <button onClick={() => onRemove(item)} className=\"btn btn-danger\">\r\n                                    -\r\n                                </button>\r\n                                {' '}\r\n                                <button onClick={() => onAdd(item)} className=\"btn btn-success\">\r\n                                    +\r\n                                </button>\r\n                            </Col>\r\n\r\n\r\n                        </Row>\r\n\r\n\r\n                    </div>\r\n                ))}\r\n\r\n                {cartItems.length !== 0 && (\r\n                    <>\r\n                        <hr/>\r\n\r\n\r\n                        <Row>\r\n                            <Col lg='6'>Стоимость:</Col>\r\n                            <Col lg='6'>{itemsPrice.toFixed(2)} грн</Col>\r\n                        </Row>\r\n\r\n                        <Row>\r\n                            <Col lg='6'>Доставка:</Col>\r\n                            <Col lg='6'>{shippingPrice.toFixed(2)} грн</Col>\r\n                        </Row>\r\n\r\n                        <Row className='mt-4'>\r\n                            <Col lg='6' className='h5'>Стоимость заказа:</Col>\r\n                            <Col lg='6' className='h5'>{totalPrice.toFixed(2)} грн</Col>\r\n                        </Row>\r\n\r\n                        <hr/>\r\n\r\n                        <div className=\"row\">\r\n                            <button className='btn btn-success' onClick={() => onSubmitOrder(cartItems)}>\r\n                                Заказать\r\n                            </button>\r\n\r\n                            <button className='btn btn-danger' onClick={() => clearCart()}>\r\n                                Очистить корзину\r\n                            </button>\r\n                        </div>\r\n                    </>\r\n                )}\r\n            </Col>\r\n        </>\r\n    );\r\n}\r\n","const data = {\r\n    products: [\r\n        {\r\n            id: '1',\r\n            name: 'Маргарита',\r\n            price: 150,\r\n            image: 'https://adriano.com.ua/uploads/product_pic/59610bc96c656f40e31e9601/view_pizza-margarita-adriano.jpg',\r\n            info: 'Очень вкусная пицца. Топовая.',\r\n            type: 'pizza',\r\n        },\r\n        {\r\n            id: '2',\r\n            name: '4 сыра',\r\n            price: 192,\r\n            image: 'https://eco-pizza.ru/kommunarka/image/cache/catalog/pizza/png/4SIRA1-500x480.png',\r\n            info: 'Очень вкусная пицца. Топовая.',\r\n            type: 'pizza',\r\n        },\r\n        {\r\n            id: '3',\r\n            name: 'Салями',\r\n            price: 185,\r\n            image: 'https://sergiopizza.ru/upload/iblock/17a/17a813a0efcd71e7a70143b4d05251b6.png',\r\n            info: 'Очень вкусная пицца. Топовая.',\r\n            type: 'pizza',\r\n        },\r\n\r\n        {\r\n            id: '4',\r\n            name: 'Морская',\r\n            price: 150,\r\n            image: 'http://www.kafesad.com.ua/picture/product/q2mrcou2psdtba0m/g/09.jpg',\r\n            info: 'Очень вкусная пицца. Топовая.',\r\n            type: 'pizza',\r\n        },\r\n        {\r\n            id: '5',\r\n            name: '4 мяса',\r\n            price: 210,\r\n            image: 'https://artpizza.com.ua/media/cache/07/39/0739387d4b6b4997e5bc1d21c18ee0e6.jpg',\r\n            info: 'Очень вкусная пицца. Топовая.',\r\n            type: 'pizza',\r\n        },\r\n\r\n        {\r\n            id: '7',\r\n            name: 'Дабл Чиз',\r\n            price: 230,\r\n            image: 'https://kryla.com.ua/img/menu/middle/187/26707.png',\r\n            info: 'Мега чизбургер. Пальчики оближешь.',\r\n            type: 'burger',\r\n        },\r\n    ],\r\n};\r\nexport default data;\r\n","import {Container, Row, Col} from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport {useState, useEffect} from 'react';\r\n\r\n\r\nimport Header from './components/Header';\r\nimport Main from './components/Main';\r\nimport Basket from './components/Basket';\r\n\r\nimport data from './data';\r\n\r\n\r\n// Создаем переменную, в которую записываем состоянее cart в локальном хранилище браузера\r\n// или устанавливаем по умолчаюнию пустым массивом.\r\n\r\n// По скольку локальное хранилилище умеет работать со строчками, то мы используем JSON.parse()\r\n// так как ниже делаем setItem cart через JSON.stringify()\r\nconst cartFromLocalStorage = JSON.parse(localStorage.getItem('cart')) || JSON.parse('[]');\r\n\r\nfunction App() {\r\n\r\n    const {products} = data;\r\n    const [cartItems, setCartItems] = useState(cartFromLocalStorage)\r\n\r\n    // подключаемься к изменениям cartItems и сохраняем локальное хранилище\r\n    useEffect(() => {\r\n        localStorage.setItem('cart', JSON.stringify(cartItems));\r\n    }, [cartItems]);\r\n\r\n\r\n    const onAdd = (product) => {\r\n        const exist = cartItems.find((x) => x.id === product.id);\r\n        if (exist) {\r\n            setCartItems(\r\n                cartItems.map((x) =>\r\n                    x.id === product.id ? {...exist, qty: exist.qty + 1} : x\r\n                )\r\n            );\r\n        } else {\r\n            setCartItems([...cartItems, {...product, qty: 1}]);\r\n        }\r\n    };\r\n\r\n\r\n    const onRemove = (product) => {\r\n        const exist = cartItems.find((x) => x.id === product.id);\r\n        if (exist.qty === 1) {\r\n            setCartItems(cartItems.filter((x) => x.id !== product.id));\r\n        } else {\r\n            setCartItems(\r\n                cartItems.map((x) =>\r\n                    x.id === product.id ? {...exist, qty: exist.qty - 1} : x\r\n                )\r\n            );\r\n        }\r\n    };\r\n\r\n\r\n    const onSubmitOrder = (cartItems) => {\r\n        alert('Заказ принят! Смотри в консоль');\r\n        console.log(cartItems);\r\n        setCartItems([]);\r\n    };\r\n\r\n    const clearCart = () => {\r\n        // eslint-disable-next-line no-restricted-globals\r\n        if (confirm(\"Вы точно хотите очистить корзину?\")) {\r\n            setCartItems([]);\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <Container>\r\n\r\n            <Row>\r\n                <Col lg='12'>\r\n                    <Header countCartItems={cartItems.length}/>\r\n                </Col>\r\n\r\n                <Col lg='8'>\r\n                    <Main products={products} onAdd={onAdd}/>\r\n                </Col>\r\n\r\n                <Col lg='4' className='mt-5'>\r\n                    <Basket\r\n                        cartItems={cartItems}\r\n                        onAdd={onAdd}\r\n                        onRemove={onRemove}\r\n                        onSubmitOrder={onSubmitOrder}\r\n                        clearCart={clearCart}\r\n                    />\r\n                </Col>\r\n            </Row>\r\n\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default App;\r\n\r\n// todo read and learn\r\n// https://stackoverflow.com/a/3357615/5552528\r\n\r\n// TODO read and integrate this to my cart\r\n// https://www.robinwieruch.de/local-storage-react\r\n\r\n//\r\n// import React from 'react';\r\n//\r\n// class App extends React.Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n//\r\n//     this.state = { query: '', hits: [] };\r\n//   }\r\n//\r\n//   onChange = event => {\r\n//     this.setState({ query: event.target.value });\r\n//   };\r\n//\r\n//   onSearch = event => {\r\n//     event.preventDefault();\r\n//\r\n//     const { query } = this.state;\r\n//\r\n//     if (query === '') {\r\n//       return;\r\n//     }\r\n//\r\n//     const cachedHits = localStorage.getItem(query);\r\n//\r\n//     if (cachedHits) {\r\n//       this.setState({ hits: JSON.parse(cachedHits) });\r\n//     } else {\r\n//       fetch('https://hn.algolia.com/api/v1/search?query=' + query)\r\n//         .then(response => response.json())\r\n//         .then(result => this.onSetResult(result, query));\r\n//     }\r\n//   };\r\n//\r\n//   onSetResult = (result, key) => {\r\n//     localStorage.setItem(key, JSON.stringify(result.hits));\r\n//\r\n//     this.setState({ hits: result.hits });\r\n//   };\r\n//\r\n//   render() {\r\n//     return (\r\n//       <div>\r\n//         <h1>Search Hacker News with Local Storage</h1>\r\n//         <p>\r\n//           There shouldn't be a second network request, when you search\r\n//           for a keyword twice.\r\n//         </p>\r\n//\r\n//         {/* Search Input */}\r\n//         <form onSubmit={this.onSearch}>\r\n//           <input type=\"text\" onChange={this.onChange} />\r\n//           <button type=\"submit\">Search</button>\r\n//         </form>\r\n//\r\n//         {/* Result */}\r\n//         {this.state.hits.map(item => (\r\n//           <div key={item.objectID}>{item.title}</div>\r\n//         ))}\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n//\r\n// export default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}